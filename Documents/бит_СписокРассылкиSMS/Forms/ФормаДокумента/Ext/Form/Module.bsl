
#Область ОбработчикиСобытийФормы

&НаКлиенте
Процедура СписокОбработкаВыбора(Элемент, ВыбранноеЗначение, СтандартнаяОбработка)
	Если ЗначениеЗаполнено(ВыбранноеЗначение) Тогда
		типСпрКонтрагенты = Тип("СправочникСсылка." + бит_ТелефонияСерверПереопределяемый.ПолучитьИмяСправочникаКонтрагентов());
		типСпрКонтактЛиц = Тип("СправочникСсылка." + бит_ТелефонияСерверПереопределяемый.ПолучитьИмяСправочникаКонтактныхЛиц());
		массивНомераТелефонов = Новый Массив;
		Если ТипЗнч(ВыбранноеЗначение) = типСпрКонтрагенты Тогда
			массивНомераТелефонов = бит_ТелефонияСерверПереопределяемый.НайтиНомераКонтрагента(ВыбранноеЗначение);
		ИначеЕсли ТипЗнч(ВыбранноеЗначение) = типСпрКонтактЛиц Тогда
			массивНомераТелефонов = бит_ТелефонияСерверПереопределяемый.НайтиНомераКонтактногоЛица(ВыбранноеЗначение);
		КонецЕсли;
		Если массивНомераТелефонов.Количество() > 0 Тогда
			Для Каждого стрНомерТел Из массивНомераТелефонов Цикл
				Если ЗначениеЗаполнено(стрНомерТел) Тогда
					строка = Объект.Список.Добавить();
					строка.НомерТелефона = стрНомерТел;
					Модифицированность = Истина;
				КонецЕсли;
			КонецЦикла;
		Иначе
			ПоказатьОповещениеПользователя("Не найден номер телефона контрагента");
		КонецЕсли;
	КонецЕсли;
КонецПроцедуры

#КонецОбласти

#Область ОбработчикиКомандФормы

&НаКлиенте
Процедура ПодборКонтрагентов(Команда)
	формаПодбор = ПолучитьФорму("Обработка.бит_БитфонОбщее.Форма.ПодборКонтрагентов", , Элементы.Список); 
	формаПодбор.Открыть();
КонецПроцедуры

&НаКлиенте
Процедура ПодборКонтактныхЛиц(Команда)
	формаПодбор = ПолучитьФорму("Обработка.бит_БитфонОбщее.Форма.ПодборКонтактныхЛиц", , Элементы.Список); 
	формаПодбор.Открыть();
КонецПроцедуры

#КонецОбласти

