
//Лебедева 20.02.2018
&НаКлиенте
Процедура КнопкаПечатиШаблонаПриИзменении(Элемент)
	Элементы.ПечатнаяФорма.Доступность = Объект.КнопкаПечатиШаблона;
	Элементы.КнопкаПечать.Доступность = Объект.КнопкаПечатиШаблона;
	Элементы.КнопкаПрикрепитьФайл.Доступность = Объект.КнопкаПечатиШаблона;
КонецПроцедуры

Процедура ЗаполнитьСрокНаСервере()
	СрокВыполнения = Объект.СрокВыполнения;
	СрокДней = Цел(СрокВыполнения/1440);
	СрокЧасов = Цел((СрокВыполнения - СрокДней*1440)/60);
	СрокМин = СрокВыполнения - СрокДней*1440 - СрокЧасов*60;
КонецПроцедуры // ЗаполнитьСрокНаСервере()

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	Если Константы.КонтрольСроковМероприятий.Получить() Тогда
		Элементы.ГруппаСрокВыполнения.Видимость = Истина;
		ЗаполнитьСрокНаСервере();
	КонецЕсли;
КонецПроцедуры

&НаКлиенте
Процедура РассчитатьСрокВыполненияПриИзменении()
	Объект.СрокВыполнения = СрокДней * 1440 + СрокЧасов * 60 + СрокМин;
КонецПроцедуры

&НаКлиенте
Процедура СрокЧасовПриИзменении(Элемент)
	Если СрокЧасов > 23 Тогда
		СрокЧасов = 23;
	КонецЕсли;	
	РассчитатьСрокВыполненияПриИзменении();
КонецПроцедуры

&НаКлиенте
Процедура СрокМинутПриИзменении(Элемент)
	Если СрокМин > 59 Тогда
		СрокМин = 59;
	КонецЕсли;	
	РассчитатьСрокВыполненияПриИзменении();
КонецПроцедуры

&НаКлиенте
Процедура СрокДнейПриИзменении(Элемент)
	РассчитатьСрокВыполненияПриИзменении();
КонецПроцедуры
