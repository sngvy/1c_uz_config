Функция ВернутьДанныеДляНормализацииПоОбъектам(МассивОбъектов, РеквизитХраненияАдреса) Экспорт
	ТЗРезультат = Новый ТаблицаЗначений;  
		
	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	ДолговыеОбязательства.КодДО КАК КодДО,
		|	ДолговыеОбязательства.Наименование КАК НомерДоговора,
		|	ДолговыеОбязательства.Должник.Наименование КАК ДолжникНаименование,
		|	ДолговыеОбязательства.Должник.КодКонтрагента КАК ДолжникКодКонтрагента,
		|	ДолговыеОбязательства.Ссылка КАК ДоговорСсылка,
		|	ДолговыеОбязательства.Должник.Ссылка КАК ДолжникСсылка
		|ПОМЕСТИТЬ ОбъектыУчета
		|ИЗ
		|	Справочник.ДолговыеОбязательства КАК ДолговыеОбязательства
		|ГДЕ
		|	НЕ ДолговыеОбязательства.ПометкаУдаления
		|	И ДолговыеОбязательства.Ссылка В(&МассивОбъектов)
		|
		|ОБЪЕДИНИТЬ
		|
		|ВЫБРАТЬ
		|	NULL,
		|	NULL,
		|	Контрагенты.Наименование,
		|	Контрагенты.КодКонтрагента,
		|	NULL,
		|	Контрагенты.Ссылка
		|ИЗ
		|	Справочник.Контрагенты КАК Контрагенты
		|ГДЕ
		|	НЕ Контрагенты.ПометкаУдаления
		|	И Контрагенты.Ссылка В(&МассивОбъектов)
		|
		|ИНДЕКСИРОВАТЬ ПО
		|	ДоговорСсылка,
		|	ДолжникСсылка
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ДолговыеОбязательстваДополнительныеРеквизиты.Значение КАК Значение,
		|	ДолговыеОбязательстваДополнительныеРеквизиты.Ссылка КАК ОбСсылка
		|ПОМЕСТИТЬ ПоискАдресов
		|ИЗ
		|	Справочник.ДолговыеОбязательства.ДополнительныеРеквизиты КАК ДолговыеОбязательстваДополнительныеРеквизиты
		|ГДЕ
		|	ДолговыеОбязательстваДополнительныеРеквизиты.Свойство = &Свойство
		|
		|ОБЪЕДИНИТЬ
		|
		|ВЫБРАТЬ
		|	КонтрагентыДополнительныеРеквизиты.Значение,
		|	КонтрагентыДополнительныеРеквизиты.Ссылка
		|ИЗ
		|	Справочник.Контрагенты.ДополнительныеРеквизиты КАК КонтрагентыДополнительныеРеквизиты
		|ГДЕ
		|	КонтрагентыДополнительныеРеквизиты.Свойство = &Свойство
		|
		|ОБЪЕДИНИТЬ
		|
		|ВЫБРАТЬ
		|	ДополнительныеСведения.Значение,
		|	ДополнительныеСведения.Объект
		|ИЗ
		|	РегистрСведений.ДополнительныеСведения КАК ДополнительныеСведения
		|ГДЕ
		|	ДополнительныеСведения.Свойство = &Свойство
		|
		|ИНДЕКСИРОВАТЬ ПО
		|	ОбСсылка
		|;
		|
		|////////////////////////////////////////////////////////////////////////////////
		|ВЫБРАТЬ
		|	ОбъектыУчета.КодДО КАК КодДО,
		|	ОбъектыУчета.НомерДоговора КАК НомерДоговора,
		|	ОбъектыУчета.ДолжникНаименование КАК НаименованиеКонтрагента,
		|	ОбъектыУчета.ДолжникКодКонтрагента КАК КодКонтрагента,
		|	ПоискАдресов.Значение КАК АдресДляНормализации,
		|	ОбъектыУчета.ДоговорСсылка КАК Договор,
		|	ОбъектыУчета.ДолжникСсылка КАК Должник
		|ИЗ
		|	ОбъектыУчета КАК ОбъектыУчета
		|		ЛЕВОЕ СОЕДИНЕНИЕ ПоискАдресов КАК ПоискАдресов
		|		ПО (ОбъектыУчета.ДоговорСсылка = ПоискАдресов.ОбСсылка
		|				ИЛИ ОбъектыУчета.ДолжникСсылка = ПоискАдресов.ОбСсылка)";
	
	Запрос.УстановитьПараметр("МассивОбъектов", МассивОбъектов);
	Запрос.УстановитьПараметр("Свойство", РеквизитХраненияАдреса);
	
	ТЗРезультат = Запрос.Выполнить().Выгрузить();


	Возврат ТЗРезультат;
КонецФункции